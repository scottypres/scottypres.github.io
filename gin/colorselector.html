
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Gin Color Selector</title>
  <style>
    /* Basic reset */
    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      padding: 0;
      font-family: Arial, Helvetica, sans-serif;
      background-color: #f5f5f5; /* offâ€‘white background to make white visible */
      color: #333;
    }

    h1 {
      text-align: center;
      margin-top: 20px;
      margin-bottom: 10px;
      font-size: 2rem;
    }

    .container {
      max-width: 1000px;
      margin: 0 auto;
      padding: 0 20px 40px;
    }

    /* Scale the SVG responsively */
    #svg-container {
      width: 100%;
      text-align: center;
      margin-bottom: 30px;
    }
    #svg-container svg {
      width: 50%;
      height: auto;
      max-width: 933px;
    }

    .color-selector {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 20px;
      margin-bottom: 20px;
    }

    .color-group {
      width: 100%;
      max-width: 300px;
      text-align: center;
    }
    .color-group label {
      display: block;
      font-weight: bold;
      margin-bottom: 8px;
    }
    .color-group input[type="color"] {
      /* Increase size and add border so it is clearly tappable as a colour wheel */
      width: 100px;
      height: 44px;
      border: 1px solid #ccc;
      border-radius: 4px;
      cursor: pointer;
      margin-bottom: 10px;
    }
    .swatches {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 4px;
    }
    .color-swatch {
      width: 24px;
      height: 24px;
      border: 1px solid #ccc;
      border-radius: 4px;
      cursor: pointer;
    }

    .share-container {
      text-align: center;
      margin-top: 20px;
    }
    .share-container button {
      padding: 8px 16px;
      font-size: 1rem;
      border: none;
      border-radius: 4px;
      background-color: #007bff;
      color: #fff;
      cursor: pointer;
      margin: 5px;
    }
    .share-container button:hover {
      background-color: #0056b3;
    }
    .share-link a {
      color: #007bff;
      word-break: break-all;
      text-decoration: underline;
    }

    /* Mobile optimisations */
    @media (max-width: 600px) {
      .color-group input[type="color"] {
        width: 80%;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Gin Color Selector</h1>
    <div id="svg-container">
      <!-- Embedded SVG with grouped paths for color manipulation -->
      <svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 933 637" id="wing-svg" aria-labelledby="gin-svg-title" role="img">
        <title id="gin-svg-title">Gin glider outline</title>
        <path class="color1" fill="#173d95" d="
  M 720.85 537.49
  Q 721.26 503.69 717.98 476.51
  Q 714.52 447.77 706.96 405.03
  Q 704.28 389.88 703.37 383.93
  Q 700.56 365.57 700.37 362.74
  Q 700.08 358.74 699.71 356.36
  Q 699.06 352.21 698.87 349.98
  Q 697.05 328.33 698.15 305.52
  A 1.54 1.52 -72.1 0 0 697.46 304.15
  C 677.73 291.24 660.22 277.98 639.77 262.29
  Q 626.45 252.06 605.39 234.64
  C 571.70 206.77 541.69 181.66 507.74 156.21
  Q 482.55 137.34 461.10 124.42
  Q 431.99 106.90 411.58 97.23
  Q 376.31 80.53 339.12 68.42
  C 297.85 54.98 254.46 46.11 211.01 45.22
  Q 186.38 44.71 163.31 48.62
  Q 138.48 52.81 120.36 61.68
  Q 104.76 69.32 97.26 75.75
  Q 90.37 81.66 86.24 83.98
  Q 134.65 42.12 198.44 28.49
  Q 232.46 21.22 260.74 19.19
  C 307.98 15.81 355.14 18.89 402.07 26.39
  C 442.97 32.92 470.99 39.14 523.58 50.15
  Q 552.94 56.30 572.22 61.30
  C 614.97 72.37 652.68 92.93 687.30 120.45
  Q 717.68 144.59 743.97 173.29
  C 790.63 224.22 823.69 284.66 847.63 350.70
  Q 856.44 375.00 865.59 407.45
  Q 874.73 439.88 880.06 465.21
  Q 884.51 486.35 890.15 520.81
  Q 895.56 553.86 896.85 587.21
  A 1.02 1.00 80.8 0 1 896.13 588.22
  Q 873.25 595.14 823.44 610.90
  Q 810.41 615.03 805.44 615.00
  C 794.18 614.95 784.10 609.02 775.86 601.62
  Q 767.15 593.80 759.89 585.62
  Q 738.83 561.90 720.85 537.49
  Z"/>
        <path class="color2" fill="#c21a20" d="
  M 720.85 537.49
  Q 718.90 535.32 717.95 534.07
  Q 666.06 465.85 612.76 398.72
  Q 611.86 397.59 611.93 395.15
  C 609.26 369.32 604.35 342.35 594.27 318.28
  C 593.58 316.63 591.94 314.45 591.00 313.25
  Q 524.80 229.04 441.18 160.06
  Q 413.61 137.31 383.87 118.12
  C 336.96 87.86 280.61 69.49 225.51 63.60
  C 194.23 60.25 160.56 62.02 129.63 70.40
  Q 100.15 78.39 74.70 95.87
  L 86.24 83.98
  Q 90.37 81.66 97.26 75.75
  Q 104.76 69.32 120.36 61.68
  Q 138.48 52.81 163.31 48.62
  Q 186.38 44.71 211.01 45.22
  C 254.46 46.11 297.85 54.98 339.12 68.42
  Q 376.31 80.53 411.58 97.23
  Q 431.99 106.90 461.10 124.42
  Q 482.55 137.34 507.74 156.21
  C 541.69 181.66 571.70 206.77 605.39 234.64
  Q 626.45 252.06 639.77 262.29
  C 660.22 277.98 677.73 291.24 697.46 304.15
  A 1.54 1.52 -72.1 0 1 698.15 305.52
  Q 697.05 328.33 698.87 349.98
  Q 699.06 352.21 699.71 356.36
  Q 700.08 358.74 700.37 362.74
  Q 700.56 365.57 703.37 383.93
  Q 704.28 389.88 706.96 405.03
  Q 714.52 447.77 717.98 476.51
  Q 721.26 503.69 720.85 537.49
  Z"/>
        <path class="color3" fill="#ecedee" d="
  M 611.93 395.15
  Q 609.51 395.21 608.79 394.21
  Q 602.17 384.95 596.80 378.19
  Q 571.87 346.82 564.16 337.34
  Q 551.51 321.75 533.75 302.25
  C 499.72 264.88 464.53 228.66 425.68 194.38
  Q 405.21 176.32 385.96 162.18
  Q 364.63 146.50 343.81 133.20
  Q 327.42 122.72 310.59 115.01
  Q 275.97 98.77 240.74 91.55
  Q 203.98 84.01 165.81 89.24
  Q 161.59 89.82 159.22 90.84
  Q 138.30 93.83 120.24 102.95
  C 94.90 115.76 77.91 136.31 63.37 160.88
  Q 58.96 168.33 54.74 172.93
  Q 43.38 185.34 27.14 191.68
  Q 27.35 188.67 27.63 186.94
  Q 31.55 162.25 42.67 139.91
  Q 55.77 113.55 74.70 95.87
  Q 100.15 78.39 129.63 70.40
  C 160.56 62.02 194.23 60.25 225.51 63.60
  C 280.61 69.49 336.96 87.86 383.87 118.12
  Q 413.61 137.31 441.18 160.06
  Q 524.80 229.04 591.00 313.25
  C 591.94 314.45 593.58 316.63 594.27 318.28
  C 604.35 342.35 609.26 369.32 611.93 395.15
  Z"/>
        <path class="color1" fill="#173d95" d="
  M 310.59 115.01
  Q 288.87 133.15 272.79 150.54
  Q 232.48 194.18 203.57 248.84
  Q 188.83 276.70 185.74 283.22
  Q 172.80 310.54 162.63 338.48
  A 0.65 0.64 3.8 0 1 162.14 338.90
  Q 125.05 346.13 124.74 346.18
  Q 104.68 349.84 93.00 350.94
  C 88.07 351.40 82.96 351.49 77.98 350.00
  C 64.12 345.87 52.63 334.97 44.84 322.92
  Q 35.39 308.32 30.86 294.32
  Q 32.17 294.55 33.19 293.18
  Q 52.96 266.66 73.62 239.12
  Q 87.43 220.72 101.31 204.32
  Q 111.93 191.78 120.97 183.22
  Q 128.00 176.57 140.30 165.78
  A 0.63 0.63 0.0 0 0 139.91 164.68
  Q 133.73 164.47 127.70 161.56
  Q 118.93 157.34 117.24 147.72
  A 1.63 0.32 52.5 0 0 116.81 146.85
  Q 116.65 146.61 116.64 146.25
  Q 116.45 135.93 119.82 127.99
  Q 123.11 120.25 129.79 112.25
  Q 141.29 98.50 159.22 90.84
  Q 161.59 89.82 165.81 89.24
  Q 203.98 84.01 240.74 91.55
  Q 275.97 98.77 310.59 115.01
  Z"/>
        <path class="color2" fill="#c21a20" d="
  M 159.22 90.84
  Q 141.29 98.50 129.79 112.25
  Q 123.11 120.25 119.82 127.99
  Q 116.45 135.93 116.64 146.25
  Q 116.65 146.61 116.81 146.85
  A 1.63 0.32 52.5 0 1 117.24 147.72
  Q 118.93 157.34 127.70 161.56
  Q 133.73 164.47 139.91 164.68
  A 0.63 0.63 0.0 0 1 140.30 165.78
  Q 128.00 176.57 120.97 183.22
  Q 111.93 191.78 101.31 204.32
  Q 87.43 220.72 73.62 239.12
  Q 52.96 266.66 33.19 293.18
  Q 32.17 294.55 30.86 294.32
  Q 25.22 275.53 24.39 254.56
  Q 23.11 221.71 27.14 191.68
  Q 43.38 185.34 54.74 172.93
  Q 58.96 168.33 63.37 160.88
  C 77.91 136.31 94.90 115.76 120.24 102.95
  Q 138.30 93.83 159.22 90.84
  Z"/>
      </svg>
    </div>

    <div class="color-selector">
      <div class="color-group">
        <label for="color1Picker">Primary&nbsp;Color</label>
        <input type="color" id="color1Picker" value="#173d95">
        <div class="swatches" id="swatches1"></div>
      </div>
      <div class="color-group">
        <label for="color2Picker">Secondary&nbsp;Color</label>
        <input type="color" id="color2Picker" value="#c21a20">
        <div class="swatches" id="swatches2"></div>
      </div>
      <div class="color-group">
        <label for="color3Picker">Tertiary&nbsp;Color</label>
        <input type="color" id="color3Picker" value="#ecedee">
        <div class="swatches" id="swatches3"></div>
      </div>
    </div>

    <div class="share-container">
      <button id="generateLinkBtn" type="button">Generate Share Link</  button>
      <div id="shareLink" class="share-link"></div>
      <button id="copyBtn" type="button" style="display:none;">Copy Link</button>
    </div>
  </div>

  <script>
    (function() {
      // Default color values matching initial SVG
      const defaults = {
        color1: '#173d95',
        color2: '#c21a20',
        color3: '#ecedee'
      };

      /**
       * Update the fill colors of SVG paths based on current picker values.
       */
      function updateColors() {
        const c1 = document.getElementById('color1Picker').value;
        const c2 = document.getElementById('color2Picker').value;
        const c3 = document.getElementById('color3Picker').value;
        document.querySelectorAll('#wing-svg .color1').forEach(el => {
          el.setAttribute('fill', c1);
        });
        document.querySelectorAll('#wing-svg .color2').forEach(el => {
          el.setAttribute('fill', c2);
        });
        document.querySelectorAll('#wing-svg .color3').forEach(el => {
          el.setAttribute('fill', c3);
        });
      }

      /**
       * Populate color swatch palettes for quick selection.
       * @param {string[]} palette A list of hex color strings.
       * @param {string} swatchContainerId The id of the swatch container element.
       * @param {string} pickerId The id of the color input to update.
       */
      function createSwatches(palette, swatchContainerId, pickerId) {
        const container = document.getElementById(swatchContainerId);
        palette.forEach(col => {
          const swatch = document.createElement('div');
          swatch.classList.add('color-swatch');
          swatch.style.backgroundColor = col;
          swatch.title = col;
          swatch.addEventListener('click', () => {
            document.getElementById(pickerId).value = col;
            updateColors();
          });
          container.appendChild(swatch);
        });
      }

      /**
       * Parse query string parameters and preâ€‘populate color pickers if values are present.
       */
      function loadFromQuery() {
        const params = new URLSearchParams(window.location.search);
        const p1 = params.get('color1');
        const p2 = params.get('color2');
        const p3 = params.get('color3');
        if (p1 && /^([0-9a-fA-F]{6})$/.test(p1)) {
          document.getElementById('color1Picker').value = '#' + p1;
        }
        if (p2 && /^([0-9a-fA-F]{6})$/.test(p2)) {
          document.getElementById('color2Picker').value = '#' + p2;
        }
        if (p3 && /^([0-9a-fA-F]{6})$/.test(p3)) {
          document.getElementById('color3Picker').value = '#' + p3;
        }
        updateColors();
      }

      /**
       * Build a shareable URL containing current color selections as query parameters.
       */
      function buildShareLink() {
        const base = window.location.href.split('?')[0];
        const c1 = document.getElementById('color1Picker').value.substring(1);
        const c2 = document.getElementById('color2Picker').value.substring(1);
        const c3 = document.getElementById('color3Picker').value.substring(1);
        const query = `?color1=${encodeURIComponent(c1)}&color2=${encodeURIComponent(c2)}&color3=${encodeURIComponent(c3)}`;
        return base + query;
      }

      // Typical colour palette: a condensed set of common colours
      // By keeping this list short, the interface remains uncluttered on mobile screens.
      const palette = [
        '#ffffff', // white
        '#000000', // black
        '#ff0000', // red
        '#00ff00', // green
        '#0000ff', // blue
        '#ffff00', // yellow
        '#ff00ff', // magenta
        '#00ffff'  // cyan
      ];

      // Populate swatches for each color group
      createSwatches(palette, 'swatches1', 'color1Picker');
      createSwatches(palette, 'swatches2', 'color2Picker');
      createSwatches(palette, 'swatches3', 'color3Picker');

      // Attach event listeners to the color inputs
      document.getElementById('color1Picker').addEventListener('input', updateColors);
      document.getElementById('color2Picker').addEventListener('input', updateColors);
      document.getElementById('color3Picker').addEventListener('input', updateColors);

      // Generate share link when button is clicked
      document.getElementById('generateLinkBtn').addEventListener('click', () => {
        const link = buildShareLink();
        const shareLinkDiv = document.getElementById('shareLink');
        shareLinkDiv.innerHTML = '';
        const anchor = document.createElement('a');
        anchor.href = link;
        anchor.textContent = link;
        shareLinkDiv.appendChild(anchor);
        document.getElementById('copyBtn').style.display = 'inline-block';
      });

      // Copy link to clipboard
      document.getElementById('copyBtn').addEventListener('click', () => {
        const link = document.getElementById('shareLink').innerText;
        if (!link) return;
        navigator.clipboard.writeText(link).then(() => {
          alert('Share link copied to clipboard!');
        }, () => {
          alert('Failed to copy link.');
        });
      });

      // Initialize by reading any query parameters and applying colors
      loadFromQuery();
    })();
  </script>
</body>
</html>