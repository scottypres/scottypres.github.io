<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>FAA TFR Feed</title>
</head>
<body>
  <h1>Current TFRs</h1>
  <ul id="tfr-list"></ul>

  <script>
    async function loadTFRs() {
      try {
        const response = await fetch('https://tfr.faa.gov/tfr3/export/xml');
        const xmlText = await response.text();

        const parser = new DOMParser();
        const xmlDoc = parser.parseFromString(xmlText, "text/xml");

        const tfrs = xmlDoc.getElementsByTagName("NOTAM");
        const tfrList = document.getElementById("tfr-list");

        for (let i = 0; i < tfrs.length; i++) {
          const notam = tfrs[i];
          const title = notam.getElementsByTagName("location")[0]?.textContent || "Unknown location";
          const facility = notam.getElementsByTagName("fac")[0]?.textContent || "Unknown facility";
          const listItem = document.createElement("li");
          listItem.textContent = `Location: ${title} | Facility: ${facility}`;
          tfrList.appendChild(listItem);
        }
      } catch (err) {
        console.error("Error fetching or parsing TFR data:", err);
      }
    }

    loadTFRs();
  </script>
</body>
</html>
